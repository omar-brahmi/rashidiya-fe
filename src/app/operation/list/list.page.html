<app-header title="Operations"/>

<ion-content class="ion-padding">

  <ion-button
    routerLink="/form/step-one-operation">
    Add New Operation
  </ion-button>

  <app-filter-operations (filterApplied)="onFilterApplied($event)"/>

  @for (operation of operations; track operation; let i = $index) {
    <app-card-operation
      [operation]="operation"
      [index]="i"
      [isFlipped]="flippedCardIndex === i"
      (click)="toggleCard(i)"
    />
  }

  <ion-infinite-scroll (ionInfinite)="loadMore($event)">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Loading more operations...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>

<app-footer/>
